<%- include('partials/header') %>

    <!-- Navigation bar -->
    <nav class="navbar">
        <ul>
            <li><a href="/home">Home</a></li>
            <li><a href="/portfolio">Portfolio</a></li>
            <li><a href="/marketdata">Trade</a></li>
        </ul>
    </nav>

    <!-- Settings and Log Out links -->
    <div class="profile-links">
        <a href="/settings">Settings</a>
        <a href="/logout">Log Out</a>
    </div>

    <!-- Display market data -->
    <div class="market-data">
        <h2>Market Data</h2>
        <div class="crypto-list">
            <% marketData.forEach(coin=> { %>
                <div class="crypto-item">
                    <h3>
                        <%= coin.name %>
                    </h3>
                    <div class="crypto-info">
                        <p>Symbol: <%= coin.symbol %>
                        </p>
                        <p>Price: <%= coin.current_price %> USD</p>
                        <p>Market Cap: <%= coin.market_cap %> USD</p>
                        <p>High (24h): <%= coin.high_24h %> USD</p>
                        <p>Low (24h): <%= coin.low_24h %> USD</p>
                        <p>Price Change (24h): <%= coin.price_change_24h %> USD</p>
                        <p>Market Cap Rank: <%= coin.market_cap_rank %>
                        </p>
                        <p>Circulating Supply: <%= coin.circulating_supply %>
                        </p>
                        <p>Total Volume: <%= coin.total_volume %>
                        </p>
                        <p>All-Time High: <%= coin.ath %> USD (on <%= coin.ath_date %>)</p>
                        <p>All-Time Low: <%= coin.atl %> USD (on <%= coin.atl_date %>)</p>
                        <% if (coin.roi) { %>
                            <p>ROI: <%= coin.roi.times %> times (<%= coin.roi.currency %>)</p>
                            <% } %>
                    </div>
                </div>
                <% }); %>
        </div>
    </div>


    <!-- Search bar -->
    <div class="search-bar">
        <form action="/marketdata/search" method="POST">
            <input type="text" id="search" name="query" placeholder="Search for cryptocurrencies">
            <button type="submit">Search</button>
        </form>
    </div>
    
    <!-- Filter options -->
    <div class="filter-options">
        <label for="marketCap">Market Cap:</label>
        <input type="number" id="minMarketCap" placeholder="Min">
        <input type="number" id="maxMarketCap" placeholder="Max">
    
        <label for="volume">Volume:</label>
        <input type="number" id="minVolume" placeholder="Min">
        <input type="number" id="maxVolume" placeholder="Max">
    
        <label for="percentageChange">Percentage Change (24h):</label>
        <input type="number" id="minPercentageChange" placeholder="Min">
        <input type="number" id="maxPercentageChange" placeholder="Max">
    
        <button id="applyFiltersBtn">Apply Filters</button>
    </div>
    
    <!-- Sort options -->
    <div class="sort-options">
        <label for="sortCriteria">Sort By:</label>
        <select id="sortCriteria">
            <option value="marketCap">Market Cap</option>
            <option value="volume">Volume</option>
            <option value="percentageChange">Percentage Change</option>
        </select>
    
        <label for="sortOrder">Order:</label>
        <select id="sortOrder">
            <option value="asc">Ascending</option>
            <option value="desc">Descending</option>
        </select>
    
        <button id="applySortBtn">Apply Sort</button>
    </div>

    <%- include('partials/footer') %>